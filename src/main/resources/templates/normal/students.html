<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
     th:replace = "normal/base::layout(~{::section})">
    <head>
        <meta charset="UTF-8">
        <title>Student Management System</title>
    </head>
    <body>
        <section>
            <div class = "container">
                <div class = "row">
                    <h2 class="text-center"> Student Details </h2>
                </div>
                <div class = "row">
                    <div class = "col-lg-3">
                        <a th:href="@{/students/new}" class="btn btn-primary btn-sm mb-3"> Add Student </a>
                    </div>
                </div>
                <table class = "table table-striped table table-bordered">
                    <thead class = "table-dark">
                        <tr>
                            <th> Student First Name </th>
                            <th> Student Last Name </th>
                            <th> Student Email </th>
                            <th> Actions </th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr th:each = "student: ${students}">
                            <td th:text = "${student.firstName}"></td>
                            <td th:text = "${student.lastName}"></td>
                            <td th:text = "${student.email}"></td>
                            <td>
                                <a th:href = "@{/students/edit/{id}(id=${student.id})}"
                                class = "btn btn-primary"> Update </a>

                                <a th:href = "@{/students/{id}(id=${student.id})}"
                                   class = "btn btn-danger"> Delete </a>

                                <a th:href = "@{'/students/'+${student.id}+'/courses'}"
                                   class = "btn btn-primary"> Course Details </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <script>
            $(document).ready(() => {
              $(".item").removeClass("active");
              $("#students-link").addClass("active");
            });
            </script>
        </section>
    </body>
</html>